<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.6: http://docutils.sourceforge.net/" />
<title>S2E for ARM</title>
<link rel="stylesheet" href="./s2e.css" type="text/css" />
</head>
<body>
<div class="document" id="s2e-for-arm">
<h1 class="title">S2E for ARM</h1>

<p>Here are hints on building and using the ARM port for S2E.</p>
<div class="section" id="hints">
<h1>Hints</h1>
<ol class="arabic">
<li><p class="first">Look at /path/to/s2e/qemu/tests/s2earm for a test firmware which establishes basic communication with S2E. To run the test bios, try:</p>
<blockquote>
<p>/buildpath/qemu-release/arm-s2e-softmmu/qemu-system-arm -s2e-config-file /path/to/config.lua -nographic -kernel /path/to/s2e/qemu/tests/s2earm/hello.bin -s2e-verbose</p>
</blockquote>
</li>
<li><p class="first">To invoke custom S2E instructions in native ARM applications you can try the provided header: /path/to/s2earm/guest/include/s2earm.h</p>
</li>
<li><p class="first">To setup an ARM debian target, download the images here: <a class="reference external" href="http://people.debian.org/~aurel32/qemu/arm/">http://people.debian.org/~aurel32/qemu/arm/</a> . Then try:</p>
<pre class="literal-block">
/buildpath/qemu-release/arm-s2e-softmmu/qemu-system-arm \
-M versatilepb -kernel vmlinuz-2.6.26-2-versatile \
-initrd initrd.img-2.6.26-2-versatile \
-hda debian_lenny_arm_standard.qcow2 \
-append &quot;root=/dev/sda1&quot; \
-s2e-verbose -s2e-config-file /path/to/config.lua
</pre>
</li>
</ol>
</div>
<div class="section" id="cross-compile-arm-code">
<h1>Cross-Compile ARM code</h1>
<p>If you want to cross-compile ARM code from a X86 host machine, consider the following hints:</p>
<ul class="simple">
<li>To compile ARM assembly code on an X86 machine you need to install an ARM toolchain, for example Sourcery G++ Lite for ARM GNU/Linux: <a class="reference external" href="http://www.codesourcery.com/sgpp/lite/arm/portal/release1803">http://www.codesourcery.com/sgpp/lite/arm/portal/release1803</a></li>
<li>The directory /path/to/s2e/qemu/tests/s2earm contains an ARM port of S2E's testbios. Addional testcases were added to debug S2E's functionality for ARM.</li>
<li>Build the test firmware (hello.S) with buildHello.sh (this script relies on an ARM toolchain).</li>
</ul>
</div>
<div class="section" id="be-part-of-the-s2e-arm-community">
<h1>Be part of the S2E-ARM community</h1>
<p>Feel free to extend the features of S2E for ARM in order to adapt it for your use cases! For example: Port existing S2E-plugins to ARM. In some cases it is possible to make the plugins work for both, X86 and ARM by using qemu's preprocessor macros TARGET_ARM and TARGET_I386.</p>
<p>best regards
Andreas Kirchner &lt;<a class="reference external" href="mailto:akalypse&#64;gmail.com">akalypse&#64;gmail.com</a>&gt;</p>
<blockquote>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
</colgroup>
<tbody valign="top">
<tr><td>S</td>
<td>2</td>
<td>E</td>
<td>A</td>
<td>R</td>
<td>M</td>
</tr>
</tbody>
</table>
</blockquote>
</div>
</div>
<div class="footer">
<hr class="footer" />
<a class="reference external" href="s2earm.rst">View document source</a>.

</div>
</body>
</html>
